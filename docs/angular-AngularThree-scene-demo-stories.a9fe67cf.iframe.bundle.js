"use strict";(self.webpackChunkcomponents_angular=self.webpackChunkcomponents_angular||[]).push([[9987],{"./stories/angular/AngularThree/scene-demo.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>scene_demo_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),three_core=__webpack_require__("./node_modules/three/build/three.core.js"),three_module=__webpack_require__("./node_modules/three/build/three.module.js");let ThreeDemoComponent=class ThreeDemoComponent{containerRef;ngAfterViewInit(){const{animate}=function createBasicThreeScene(container){const scene=new three_core.Z58;scene.background=new three_core.Q1f(2236962);const camera=new three_core.ubm(75,container.clientWidth/container.clientHeight,.1,1e3);camera.position.z=5;const renderer=new three_module.JeP({antialias:!0});renderer.setSize(container.clientWidth,container.clientHeight),container.appendChild(renderer.domElement);const geometry=new three_core.iNn,material=new three_core._4j({color:65433}),cube=new three_core.eaF(geometry,material);scene.add(cube);const light=new three_core.ZyN(16777215,1);return light.position.set(5,5,5),scene.add(light),{renderer,scene,camera,animate:function animate(){requestAnimationFrame(animate),cube.rotation.x+=.01,cube.rotation.y+=.01,renderer.render(scene,camera)}}}(this.containerRef.nativeElement);animate()}static propDecorators={containerRef:[{type:core.ViewChild,args:["container",{static:!0}]}]}};ThreeDemoComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"three-demo",template:'<div #container style="width: 100%; height: 400px;"></div>'})],ThreeDemoComponent);let SceneDemoComponent=class SceneDemoComponent{containerRef;color="#00aaff";speed=.01;lightType="directional";lightColor="#ffffff";lightIntensity=1;lightX=5;lightY=5;lightZ=5;scene;camera;renderer;cube;light;animationId;ngAfterViewInit(){this.initScene()}ngOnChanges(changes){this.cube&&changes.color&&this.cube.material.color.set(this.color),this.light&&(changes.lightColor&&this.light.color.set(this.lightColor),changes.lightIntensity&&(this.light.intensity=this.lightIntensity),(changes.lightX||changes.lightY||changes.lightZ)&&"position"in this.light&&this.light.position.set(this.lightX,this.lightY,this.lightZ)),changes.lightType&&this.initScene()}initScene(){this.renderer&&(this.renderer.dispose(),this.renderer.domElement.parentNode&&this.renderer.domElement.parentNode.removeChild(this.renderer.domElement)),this.scene=new three_core.Z58,this.scene.background=new three_core.Q1f(2236996);const axesHelper=new three_core.IzY(2);this.scene.add(axesHelper);const gridHelper=new three_core.fTw(10,10);this.scene.add(gridHelper);const geometry=new three_core.iNn,material=new three_core._4j({color:this.color});switch(this.cube=new three_core.eaF(geometry,material),this.cube.position.set(1,.5,0),this.scene.add(this.cube),this.lightType){case"directional":this.light=new three_core.ZyN(this.lightColor,this.lightIntensity),this.light.position.set(this.lightX,this.lightY,this.lightZ);break;case"point":this.light=new three_core.HiM(this.lightColor,this.lightIntensity),this.light.position.set(this.lightX,this.lightY,this.lightZ);break;case"ambient":this.light=new three_core.$p8(this.lightColor,this.lightIntensity)}this.light&&this.scene.add(this.light);const width=this.containerRef.nativeElement.clientWidth,height=this.containerRef.nativeElement.clientHeight;this.camera=new three_core.ubm(75,width/height,.1,1e3),this.camera.position.set(3,3,5),this.camera.lookAt(0,0,0),this.renderer=new three_module.JeP({antialias:!0}),this.renderer.setSize(width,height),this.containerRef.nativeElement.appendChild(this.renderer.domElement);const animate=()=>{this.animationId=requestAnimationFrame(animate),this.cube&&(this.cube.rotation.x+=this.speed,this.cube.rotation.y+=this.speed),this.renderer.render(this.scene,this.camera)};animate()}static propDecorators={containerRef:[{type:core.ViewChild,args:["container",{static:!0}]}],color:[{type:core.Input}],speed:[{type:core.Input}],lightType:[{type:core.Input}],lightColor:[{type:core.Input}],lightIntensity:[{type:core.Input}],lightX:[{type:core.Input}],lightY:[{type:core.Input}],lightZ:[{type:core.Input}]}};SceneDemoComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"scene-demo",template:'<div #container style="width: 100%; height: 400px;"></div>'})],SceneDemoComponent);const scene_demo_stories={title:"AngularThree/SceneDemo",component:SceneDemoComponent,argTypes:{color:{control:"color",description:"立方体颜色"},speed:{control:{type:"range",min:0,max:.1,step:.001},description:"旋转速度"},lightType:{control:{type:"radio"},options:["directional","point","ambient"],description:"光源类型"},lightColor:{control:"color",description:"光源颜色"},lightIntensity:{control:{type:"range",min:0,max:2,step:.01},description:"光源强度"},lightX:{control:{type:"number",min:-10,max:10,step:.1},description:"光源X"},lightY:{control:{type:"number",min:-10,max:10,step:.1},description:"光源Y"},lightZ:{control:{type:"number",min:-10,max:10,step:.1},description:"光源Z"}}},Basic={args:{color:"#00aaff",speed:.01,lightType:"directional",lightColor:"#ffffff",lightIntensity:1,lightX:5,lightY:5,lightZ:5}},__namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  args: {\n    color: '#00aaff',\n    speed: 0.01,\n    lightType: 'directional',\n    lightColor: '#ffffff',\n    lightIntensity: 1,\n    lightX: 5,\n    lightY: 5,\n    lightZ: 5\n  }\n}",...Basic.parameters?.docs?.source}}}}}]);