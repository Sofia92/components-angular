(self.webpackChunkcomponents_angular=self.webpackChunkcomponents_angular||[]).push([[814],{"./stories/directives/trace-highlight.component.ts.scss?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAuc2VhcmNoLXNlY3Rpb24gewogICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICBwYWRkaW5nOiAxNnB4OwogICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1OwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIH0KICAgIC5jb250ZW50LWJsb2NrIHsKICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDsKICAgICAgcGFkZGluZzogMTZweDsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U4ZThlODsKICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgfQogICAgaDMgewogICAgICBtYXJnaW46IDAgMCAxNnB4IDA7CiAgICAgIGNvbG9yOiAjMTk3NkQyOwogICAgfQogICAgcCB7CiAgICAgIG1hcmdpbjogOHB4IDA7CiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICB9CiAgICBzcGFuW2RhdGEtZmllbGRdIHsKICAgICAgY29sb3I6ICMzMzM7CiAgICB9CiAg!./stories/directives/trace-highlight.component.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".search-section {\n  margin-bottom: 20px;\n  padding: 16px;\n  background: #f5f5f5;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.content-block {\n  margin-bottom: 16px;\n  padding: 16px;\n  border: 1px solid #e8e8e8;\n  border-radius: 8px;\n}\n\nh3 {\n  margin: 0 0 16px 0;\n  color: #1976D2;\n}\n\np {\n  margin: 8px 0;\n  line-height: 1.5;\n}\n\nspan[data-field] {\n  color: #333;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./stories/directives/trace-highlight.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>trace_highlight_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),trace_highlight_component=__webpack_require__("./stories/directives/trace-highlight.component.ts.scss?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=CiAgICAuc2VhcmNoLXNlY3Rpb24gewogICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICBwYWRkaW5nOiAxNnB4OwogICAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1OwogICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgIH0KICAgIC5jb250ZW50LWJsb2NrIHsKICAgICAgbWFyZ2luLWJvdHRvbTogMTZweDsKICAgICAgcGFkZGluZzogMTZweDsKICAgICAgYm9yZGVyOiAxcHggc29saWQgI2U4ZThlODsKICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgfQogICAgaDMgewogICAgICBtYXJnaW46IDAgMCAxNnB4IDA7CiAgICAgIGNvbG9yOiAjMTk3NkQyOwogICAgfQogICAgcCB7CiAgICAgIG1hcmdpbjogOHB4IDA7CiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7CiAgICB9CiAgICBzcGFuW2RhdGEtZmllbGRdIHsKICAgICAgY29sb3I6ICMzMzM7CiAgICB9CiAg!./stories/directives/trace-highlight.component.ts"),trace_highlight_component_default=__webpack_require__.n(trace_highlight_component),common_module_CBrzkrmd=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-CBrzkrmd.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),directives=__webpack_require__("./src/directives/index.ts"),BehaviorSubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js"),components=__webpack_require__("./src/components/index.ts"),ng_zorro_antd_icon=__webpack_require__("./node_modules/ng-zorro-antd/fesm2022/ng-zorro-antd-icon.mjs");let TraceHighlightDemoComponent=class TraceHighlightDemoComponent{traceHighlightConfig={keyword:"",onHighlight$:new BehaviorSubject.t(!1)};searchKeyword="";hightTraceIdSet=new Set;highlightId="";onSearch(){this.traceHighlightConfig.keyword=this.searchKeyword,this.searchKeyword.trim()?this.traceHighlightConfig.onHighlight$.next([{fieldName:"data-field",keyword:this.searchKeyword}]):this.traceHighlightConfig.onHighlight$.next([])}onHightTraceIdSetChange(hightTraceIdSet){this.hightTraceIdSet=hightTraceIdSet,this.highlightId=Array.from(hightTraceIdSet)[0]}prevHighlightId(){const ids=Array.from(this.hightTraceIdSet),index=ids.indexOf(this.highlightId);this.highlightId=ids[index-1]||ids[ids.length-1]}nextHighlightId(){const ids=Array.from(this.hightTraceIdSet),index=ids.indexOf(this.highlightId);this.highlightId=ids[index+1]||ids[0]}};TraceHighlightDemoComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-trace-highlight-demo",template:'\n    <div class="demo-container">\n      <div class="search-section">\n        <search-box [placeholder]="\'输入搜索关键词\'"\n                    [(keyword)]="searchKeyword"\n                    (keywordChange)="onSearch()"></search-box>\n        <p>结果：{{ hightTraceIdSet.size }}个\n          <button *ngIf="hightTraceIdSet.size" nz-button nzType="primary" (click)="prevHighlightId()">上一个</button>\n          <button *ngIf="hightTraceIdSet.size" nz-button nzType="primary" (click)="nextHighlightId()">下一个</button>\n        </p>\n      </div>\n\n      <div class="content-section" [traceHighlight]="traceHighlightConfig" [highlightId]="highlightId" (hightTraceIdSetChange)="onHightTraceIdSetChange($event)">\n        <div class="content-block">\n          <h3>病历记录</h3>\n          <p>患者主诉：<span data-field="symptom">发热、咳嗽3天</span></p>\n          <p>现病史：<span data-field="history">患者3天前出现发热，体温最高38.5℃，伴有咳嗽，无痰。</span></p>\n          <p>既往史：<span data-field="past">无特殊</span></p>\n        </div>\n\n        <div class="content-block">\n          <h3>检查报告</h3>\n          <p>血常规：<span data-field="blood">WBC 10.5×10^9/L</span></p>\n          <p>胸片：<span data-field="xray">双肺纹理增多</span></p>\n        </div>\n\n        <div class="content-block">\n          <h3>诊断结果</h3>\n          <p>初步诊断：<span data-field="diagnosis">上呼吸道感染</span></p>\n          <p>建议：<span data-field="suggestion">建议多休息，多饮水</span></p>\n        </div>\n      </div>\n    </div>\n  ',standalone:!0,imports:[common_module_CBrzkrmd.MD,fesm2022_forms.YN,ng_zorro_antd_icon.Y3,directives.ne,components.TB],styles:[trace_highlight_component_default()]})],TraceHighlightDemoComponent);const trace_highlight_stories={title:"Directives/TraceHighlight",component:TraceHighlightDemoComponent,parameters:{layout:"centered"}},Basic={render:args=>({props:args,template:"\n      <app-trace-highlight-demo></app-trace-highlight-demo>\n    "})},__namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: args => ({\n    props: args,\n    template: `\n      <app-trace-highlight-demo></app-trace-highlight-demo>\n    `\n  })\n}",...Basic.parameters?.docs?.source},description:{story:"文本高亮指令示例\n- 支持关键词搜索和高亮\n- 支持关键词+属性双重匹配\n- 实时高亮显示匹配内容\n- 支持多个匹配结果",...Basic.parameters?.docs?.description}}}}}]);