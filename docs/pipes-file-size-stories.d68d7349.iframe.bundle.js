"use strict";(self.webpackChunkcomponents_angular=self.webpackChunkcomponents_angular||[]).push([[4705],{"./src/pipes/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{sy:()=>FileSizePipe,D9:()=>TranslatePipe});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),ng_zorro_antd_i18n=__webpack_require__("./node_modules/ng-zorro-antd/fesm2022/ng-zorro-antd-i18n.mjs");let TranslatePipe=class TranslatePipe{i18n;value;path;lastResult;constructor(i18n){this.i18n=i18n,this.i18n.localeChange.subscribe((()=>{this.path?.trim()&&(this.lastResult=this.i18n.translate(this.path))}))}transform(value,...args){return this.path=args[0],this.value=value,this.path?.trim()?(this.lastResult=this.i18n.translate(this.path),this.lastResult):value?.trim()?(this.lastResult=this.i18n.translate(value),this.lastResult):""}static ctorParameters=()=>[{type:ng_zorro_antd_i18n.Og}]};TranslatePipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"translate",pure:!1})],TranslatePipe);let FormatNumberPipe=class FormatNumberPipe{transform(value,decimals=1){if(null==value)return"0";if(value>=1e9){const num=value/1e9;return this.formatWithDecimals(num,decimals)+"B"}if(value>=1e6){const num=value/1e6;return this.formatWithDecimals(num,decimals)+"M"}if(value>=1e3){const num=value/1e3;return this.formatWithDecimals(num,decimals)+"K"}return value.toString()}formatWithDecimals(num,decimals){const rounded=Math.round(num*Math.pow(10,decimals))/Math.pow(10,decimals);return rounded%1==0?rounded.toString():rounded.toFixed(decimals)}};FormatNumberPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"formatNumber"})],FormatNumberPipe);const mb=1048576,gb=1024*mb;let FileSizePipe=class FileSizePipe{transform(size){return size?size<1024?`${size}B`:size>=1024&&size<mb?`${(size/1024).toFixed(2)}K`:size>=mb&&size<=gb?`${(size/mb).toFixed(2)}M`:size>=gb?`${(size/gb).toFixed(2)}G`:"":"0K"}};FileSizePipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"fileSize"})],FileSizePipe)},"./stories/pipes/file-size.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,base:()=>base,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_Pipes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/pipes/index.ts"),_angular_forms__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),ng_zorro_antd_input_number__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/ng-zorro-antd/fesm2022/ng-zorro-antd-input-number.mjs"),ng_zorro_antd_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/ng-zorro-antd/fesm2022/ng-zorro-antd-button.mjs");const __WEBPACK_DEFAULT_EXPORT__={title:"Pipes/fileSize",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[_Pipes__WEBPACK_IMPORTED_MODULE_1__.sy,_angular_forms__WEBPACK_IMPORTED_MODULE_2__.YN,ng_zorro_antd_input_number__WEBPACK_IMPORTED_MODULE_3__.G,ng_zorro_antd_button__WEBPACK_IMPORTED_MODULE_4__.Zw]})]};const base={parameters:{size:0,sizeDisplay:0},render:()=>({template:'\n        <nz-input-number [(ngModel)]="size" />\n        <button nz-button nzType="primary" (click)="sizeDisplay = size">转换</button>\n        \n        <p>结果：{{sizeDisplay | fileSize}}</p>\n        '})},__namedExportsOrder=["base"];base.parameters={...base.parameters,docs:{...base.parameters?.docs,source:{originalSource:'{\n  parameters: {\n    size: size,\n    sizeDisplay: sizeDisplay\n  },\n  render: () => ({\n    template: `\n        <nz-input-number [(ngModel)]="size" />\n        <button nz-button nzType="primary" (click)="sizeDisplay = size">转换</button>\n        \n        <p>结果：{{sizeDisplay | fileSize}}</p>\n        `\n  })\n}',...base.parameters?.docs?.source}}}}}]);